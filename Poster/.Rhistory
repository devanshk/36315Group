knitr::opts_chunk$set(echo = TRUE)
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar")
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
df = read.csv("Online_Retail_Raw.csv")
df = read.csv("Online_Retail_Raw.csv")
colnames(df);
df2 = mutate(df,
DayOfWeek = weekdays(as.Date(InvoiceDate, "%m/%d/%Y")))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar")
library(forcats)
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
facet_wrap(~Country)
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
facet_wrap(~Country, scales="free_y")
df2 = mutate(df2,
DayOfWeek = factor(DayOfWeek, levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar")
df
df2 = mutate(df,
DayOfWeek = weekdays(as.Date(InvoiceDate, "%m/%d/%Y")))
df2 = mutate(df2,
DayOfWeek = factor(DayOfWeek, levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Spending in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
df
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Spending in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Spending in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased ($)")
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Spending in Online Retail by Weekday",
x="Weekday",
y="Money spent")
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Spending in Online Retail by Weekday",
x="Weekday",
y="Money spent")
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
knitr::opts_chunk$set(echo = TRUE)
#ONLY RUN IF YOU ONLY WANT EUROPEAN COUNTRIES
non_european <- c("Australia", "Bahrain", "Brazil", "Canada", "Hong Kong",
"Japan", "RSA", "Saudi Arabia", "Singapore", "United Arab Emirates",
"Unspecified", "USA")
df <- df[!(df$Country %in% non_european),]
df$Country <- factor(df$Country)
table(df$Country)
#RUN IF YOU WANT TO REMOVE BULK ORDERS
df <- df[df$Quantity <= 50 & df$Quantity >= 0,]
#ONLY RUN IF YOU ONLY WANT EUROPEAN COUNTRIES
non_european <- c("Australia", "Bahrain", "Brazil", "Canada", "Hong Kong",
"Japan", "RSA", "Saudi Arabia", "Singapore", "United Arab Emirates",
"Unspecified", "USA")
df <- df[!(df$Country %in% non_european),]
df$Country <- factor(df$Country)
table(df$Country)
#RUN IF YOU WANT TO REMOVE BULK ORDERS
df <- df[df$Quantity <= 50 & df$Quantity >= 0,]
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
ggplot(df2) +
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail Over Time",
x="Day",
y="Money Spent in $")
#RUN IF YOU WANT TO REMOVE BULK ORDERS AND RETURNS
df <- df[df$Quantity <= 50 & df$Quantity >= 0,]
df <- df[df$UnitPrice > 0]
df
df <- df[df$UnitPrice > 0, ]
#RUN IF YOU WANT TO REMOVE BULK ORDERS AND RETURNS
df <- df[df$Quantity <= 50 & df$Quantity >= 0,]
df <- df[df$UnitPrice > 0, ]
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
ggplot(df2) +
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail Over Time",
x="Day",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum,
geom="line") +
labs(title="Item Purchases in Online Retail Over Time",
x="Day",
y="Money Spent in $")
#Generate the data
country_unit_price <- by_country %>%
lapply(FUN = function(x) median(x$UnitPrice)) %>%
stack() %>%
rename(UnitPrice = values, Country = ind)
by_country = split(df, f = df$Country)
#by_customer = split(df, f = df$CustomerID)
#by_invoice = split(df, f = df$InvoiceNo)
#by_item = split(df, f = df$StockCode)
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = months(as.Date(InvoiceDate, "%m/%d/%Y")))
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Quantity Purchased")
df2
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','Febuary','March','April','May','June','July','August','September','October','November','December'))
df2
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','Febuary','March','April','May','June','July','August','September','October','November','December'))
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = factor(
months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','Febuary','March','April','May','June','July','August','September','October','November','December')))
df2
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = factor(
months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','February','March','April','May','June','July','August','September','October','November','December')))
df2
ggplot(df2) +
stat_summary(aes(x=DayOfWeek, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Weekday",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Month",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Month",
y="Money Spent in $") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = factor(
months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','February','March','April','May','June','July','August','September','October','November','December')),
Year = factor(years(as.Date(InvoiceDate, "%m/%d/%Y"))))
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = factor(
months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','February','March','April','May','June','July','August','September','October','November','December')),
Year = factor(year(as.Date(InvoiceDate, "%m/%d/%Y"))))
library(lubridate)
library(lubridate)
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = factor(
months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','February','March','April','May','June','July','August','September','October','November','December')),
Year = factor(year(as.Date(InvoiceDate, "%m/%d/%Y"))))
df2 = mutate(df,
DayOfWeek = factor(
weekdays(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday')),
Month = factor(
months(as.Date(InvoiceDate, "%m/%d/%Y")),
levels=c('January','February','March','April','May','June','July','August','September','October','November','December')),
Year = factor(year(as.Date(InvoiceDate, "%m/%d/%Y"))))
df2
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity, color=Year),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Month",
y="Money Spent in $") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity, fill=Year),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Month",
y="Money Spent in $") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Weekday",
x="Month",
y="Money Spent in $") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail by Month",
x="Month",
y="Money Spent in $") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(df2) +
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail Over Time",
x="Day",
y="Money Spent in $")
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum)
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum)
ggplot(df2) +
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail Over Time",
x="Day",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=InvoiceDate, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail Over Time",
x="Day",
y="Money Spent in $")
ggplot(df2) +
stat_summary(aes(x=Month, y=UnitPrice*Quantity),
fun.y = sum,
geom="bar") +
labs(title="Item Purchases in Online Retail Over Time",
x="Day",
y="Money Spent in $")
